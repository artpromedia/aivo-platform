# ══════════════════════════════════════════════════════════════════════════════
# AIVO Platform - Environment Configuration Template
# ══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values.
# DO NOT commit .env to version control!
# ══════════════════════════════════════════════════════════════════════════════

# ══════════════════════════════════════════════════════════════════════════════
# General Configuration
# ══════════════════════════════════════════════════════════════════════════════

NODE_ENV=development
LOG_LEVEL=debug

# ══════════════════════════════════════════════════════════════════════════════
# PostgreSQL Configuration
# ══════════════════════════════════════════════════════════════════════════════

POSTGRES_USER=aivo
POSTGRES_PASSWORD=aivo_dev_password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Individual service database URLs
DATABASE_URL_AUTH=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_auth
DATABASE_URL_TENANT=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_tenant
DATABASE_URL_PROFILE=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_profile
DATABASE_URL_CONTENT=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_content
DATABASE_URL_CONTENT_AUTHORING=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_content_authoring
DATABASE_URL_ASSESSMENT=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_assessment
DATABASE_URL_SESSION=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_session
DATABASE_URL_ENGAGEMENT=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_engagement
DATABASE_URL_PERSONALIZATION=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_personalization
DATABASE_URL_LEARNER_MODEL=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_learner_model
DATABASE_URL_GOAL=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_goal
DATABASE_URL_HOMEWORK_HELPER=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_homework_helper
DATABASE_URL_AI_ORCHESTRATOR=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_ai_orchestrator
DATABASE_URL_SANDBOX=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_sandbox
DATABASE_URL_ANALYTICS=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_analytics
DATABASE_URL_BASELINE=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_baseline
DATABASE_URL_REPORTS=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_reports
DATABASE_URL_RESEARCH=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_research
DATABASE_URL_TEACHER_PLANNING=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_teacher_planning
DATABASE_URL_FOCUS=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_focus
DATABASE_URL_BILLING=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_billing
DATABASE_URL_PAYMENTS=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_payments
DATABASE_URL_MESSAGING=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_messaging
DATABASE_URL_NOTIFY=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_notify
DATABASE_URL_COLLABORATION=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_collaboration
DATABASE_URL_CONSENT=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_consent
DATABASE_URL_DSR=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_dsr
DATABASE_URL_RETENTION=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_retention
DATABASE_URL_INTEGRATION=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_integration
DATABASE_URL_LTI=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_lti
DATABASE_URL_SIS_SYNC=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_sis_sync
DATABASE_URL_MARKETPLACE=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_marketplace
DATABASE_URL_EXPERIMENTATION=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_experimentation
DATABASE_URL_DEVICE_MGMT=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_device_mgmt
DATABASE_URL_EMBEDDED_TOOLS=postgresql://aivo:aivo_dev_password@postgres:5432/aivo_embedded_tools

# ══════════════════════════════════════════════════════════════════════════════
# Redis Configuration
# ══════════════════════════════════════════════════════════════════════════════

REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379

# ══════════════════════════════════════════════════════════════════════════════
# NATS Configuration
# ══════════════════════════════════════════════════════════════════════════════

NATS_URL=nats://nats:4222
NATS_HOST=nats
NATS_PORT=4222

# ══════════════════════════════════════════════════════════════════════════════
# Elasticsearch Configuration
# ══════════════════════════════════════════════════════════════════════════════

ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_NODE=http://elasticsearch:9200

# ══════════════════════════════════════════════════════════════════════════════
# MinIO (S3-compatible Storage) Configuration
# ══════════════════════════════════════════════════════════════════════════════

MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=aivo_minio
MINIO_ROOT_PASSWORD=aivo_minio_secret
AWS_ACCESS_KEY_ID=aivo_minio
AWS_SECRET_ACCESS_KEY=aivo_minio_secret
S3_ENDPOINT=http://minio:9000
S3_BUCKET_CONTENT=aivo-content
S3_BUCKET_UPLOADS=aivo-uploads
S3_BUCKET_EXPORTS=aivo-exports
S3_BUCKET_BACKUPS=aivo-backups

# ══════════════════════════════════════════════════════════════════════════════
# Kong API Gateway Configuration
# ══════════════════════════════════════════════════════════════════════════════

KONG_PROXY_URL=http://localhost:8000
KONG_ADMIN_URL=http://localhost:8001

# ══════════════════════════════════════════════════════════════════════════════
# Observability Configuration
# ══════════════════════════════════════════════════════════════════════════════

OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=aivo-platform
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1

PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3030
JAEGER_URL=http://jaeger:16686
LOKI_URL=http://loki:3100

# ══════════════════════════════════════════════════════════════════════════════
# Authentication & Security
# ══════════════════════════════════════════════════════════════════════════════

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-super-secret-session-key-change-in-production

# API Keys (used for inter-service communication)
INTERNAL_API_KEY=internal-api-key-change-in-production

# ══════════════════════════════════════════════════════════════════════════════
# AI Provider API Keys
# ══════════════════════════════════════════════════════════════════════════════
# Fill these in with your actual API keys to enable AI features.
# Without these, AI-powered features will not work.

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Azure OpenAI (optional, for enterprise deployments)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT_NAME=

# Google AI (Gemini)
GOOGLE_AI_API_KEY=

# ══════════════════════════════════════════════════════════════════════════════
# External Service Integration
# ══════════════════════════════════════════════════════════════════════════════

# Stripe (Payments)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# SendGrid (Email)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Twilio (SMS)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ══════════════════════════════════════════════════════════════════════════════
# Feature Flags
# ══════════════════════════════════════════════════════════════════════════════

FEATURE_AI_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_MARKETPLACE_ENABLED=false
FEATURE_EXPERIMENTATION_ENABLED=false

# ══════════════════════════════════════════════════════════════════════════════
# Development Tools (only used in docker-compose.override.yml)
# ══════════════════════════════════════════════════════════════════════════════

# Adminer (Database Admin)
ADMINER_DEFAULT_SERVER=postgres

# Mailhog (Email Testing) - accessible at http://localhost:8025
SMTP_HOST=mailhog
SMTP_PORT=1025

# ══════════════════════════════════════════════════════════════════════════════
# Test Configuration (used when running tests)
# ══════════════════════════════════════════════════════════════════════════════

# Set to true to create isolated test databases
CREATE_TEST_DBS=true

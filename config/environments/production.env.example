# ===========================================
# AIVO Platform - Production Configuration
# TEMPLATE ONLY - Do not commit actual values
# ===========================================

# Environment
NODE_ENV=production
LOG_LEVEL=warn

# Server
HOST=0.0.0.0
PORT=3000

# Database (Cloud SQL with replicas)
# Set via Kubernetes secrets:
# DATABASE_URL - Primary connection string
# DATABASE_READ_URL - Read replica connection string
DATABASE_SSL=true
DATABASE_POOL_MIN=10
DATABASE_POOL_MAX=50

# Redis (Memorystore HA)
# Set via Kubernetes secrets:
# REDIS_URL
REDIS_TLS=true

# NATS
NATS_URL=nats://nats.aivo-prod.svc.cluster.local:4222

# JWT Configuration
JWT_ALGORITHM=RS256
JWT_ACCESS_TOKEN_TTL=15m
JWT_REFRESH_TOKEN_TTL=7d
JWT_ISSUER=aivo-production
JWT_AUDIENCE=aivo-platform
# JWT keys mounted from Kubernetes secrets

# Storage (GCS)
STORAGE_PROVIDER=gcs
STORAGE_BUCKET_CONTENT=aivo-content-prod
STORAGE_BUCKET_UPLOADS=aivo-uploads-prod
STORAGE_BUCKET_EXPORTS=aivo-exports-prod

# CDN
CDN_URL=https://cdn.aivo.ai

# Email (SendGrid)
EMAIL_PROVIDER=sendgrid
EMAIL_FROM=noreply@aivo.ai
EMAIL_FROM_NAME=AIVO
# SENDGRID_API_KEY set via Kubernetes secrets

# AI Configuration
AI_PROVIDER=openai
OPENAI_MODEL=gpt-4-turbo-preview
AI_REQUEST_TIMEOUT_MS=60000
# OPENAI_API_KEY set via Kubernetes secrets

# Search
# ELASTICSEARCH_URL set via Kubernetes secrets
ELASTICSEARCH_INDEX_PREFIX=aivo_prod

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=https://otel-collector.aivo-prod.svc.cluster.local:4317
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.01

# Feature Flags
FEATURE_AI_TUTOR=true
FEATURE_GAMIFICATION=true
FEATURE_MARKETPLACE=true
FEATURE_REAL_TIME_COLLAB=true
FEATURE_HOMEWORK_HELPER=true
FEATURE_BASELINE_ASSESSMENT=true

# CORS
CORS_ORIGINS=https://app.aivo.ai,https://author.aivo.ai,https://admin.aivo.ai

# Rate Limiting
RATE_LIMIT_MAX_REQUESTS=100

# Security
HSTS_MAX_AGE=31536000
CSP_REPORT_URI=https://csp-report.aivo.ai

# Mobile App URLs
MOBILE_DEEP_LINK_SCHEME=aivo
MOBILE_UNIVERSAL_LINK_DOMAIN=aivo.ai

# WebSocket
WS_PING_INTERVAL_MS=30000
WS_PING_TIMEOUT_MS=5000

# ===========================================
# SECRETS - Set via Kubernetes Secrets
# ===========================================
# DATABASE_URL=
# DATABASE_READ_URL=
# REDIS_URL=
# JWT_PRIVATE_KEY=
# JWT_PUBLIC_KEY=
# OPENAI_API_KEY=
# ANTHROPIC_API_KEY=
# SENDGRID_API_KEY=
# STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET=
# ENCRYPTION_KEY=

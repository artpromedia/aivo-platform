# ===========================================
# Analytics Service Configuration
# ===========================================

# Service Identity
SERVICE_NAME=analytics-svc
SERVICE_PORT=3005

# Database (TimescaleDB for time-series)
DATABASE_URL=postgresql://analytics:${ANALYTICS_DB_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/aivo_analytics

# Data Retention
RAW_DATA_RETENTION_DAYS=90
AGGREGATED_DATA_RETENTION_DAYS=730
ARCHIVE_TO_COLD_STORAGE=true

# Processing
BATCH_SIZE=1000
PROCESSING_INTERVAL_MS=5000
MAX_CONCURRENT_JOBS=10

# Aggregation
HOURLY_AGGREGATION_ENABLED=true
DAILY_AGGREGATION_ENABLED=true
WEEKLY_AGGREGATION_ENABLED=true
MONTHLY_AGGREGATION_ENABLED=true

# Real-time Analytics
REALTIME_ENABLED=true
REALTIME_WINDOW_SECONDS=60
REALTIME_UPDATE_INTERVAL_MS=1000

# Export Settings
MAX_EXPORT_ROWS=100000
EXPORT_FORMATS=csv,xlsx,json
EXPORT_SIGNED_URL_TTL_HOURS=24

# Privacy
ANONYMIZE_EXPORTS=false
PII_MASKING_ENABLED=true
MIN_COHORT_SIZE=10

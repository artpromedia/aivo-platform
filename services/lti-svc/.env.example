# LTI Service Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Port for the LTI service
PORT=3008

# Environment
NODE_ENV=development

# Base URL for this service (used in OIDC redirects)
# In production, this should be your public domain
LTI_BASE_URL=http://localhost:3008

# =============================================================================
# DATABASE
# =============================================================================

# PostgreSQL connection URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lti_svc

# =============================================================================
# LTI KEYS
# =============================================================================

# Default RSA private key for signing JWTs
# Can be the PEM content directly or a path reference
# For development, the key is loaded from keys/private.pem
LTI_DEFAULT_PRIVATE_KEY_PATH=./keys/private.pem

# Key ID for JWKS
LTI_KEY_ID=lti-key-1

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Aivo API Gateway URL (for session creation, user lookup)
AIVO_API_URL=http://localhost:3000

# Session Service URL
SESSION_SERVICE_URL=http://localhost:3005

# Auth Service URL (for user resolution)
AUTH_SERVICE_URL=http://localhost:3001

# =============================================================================
# REDIS (for production state/nonce storage)
# =============================================================================

# Redis URL for session state storage (optional, uses in-memory in dev)
# REDIS_URL=redis://localhost:6379

# =============================================================================
# LOGGING
# =============================================================================

# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info
